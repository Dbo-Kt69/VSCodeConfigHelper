<!DOCTYPE html>
<html>

<head>
    <title>VS Code Config Helper</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
    <script>
        const lanzousLink = "https://ww.lanzous.com/b01bf37ha";
        const lanzousCode = "gei7";
        var versionInfo;
        function download() {
            window.open(versionInfo.link);
        }
        function readme() {
            window.open("https://github.com/Guyutongxue/VSCodeConfigHelper/blob/master/README.md");
        }
        function trouble() {
            window.open("https://github.com/Guyutongxue/VSCodeConfigHelper/blob/master/TroubleShooting.md");
        }
        function faq() {
            window.open("https://github.com/Guyutongxue/VSCodeConfigHelper/blob/master/FAQ.md");
        }
        function src() {
            window.open("https://github.com/Guyutongxue/VSCodeConfigHelper");
        }
    </script>

</head>

<body>

    <div class="container">
        <div class="jumbotron">
            <div class="row">
                <div class="col-sm-3 text-center">
                    <img src="assets/VSCodeConfigHelper.png" style="width: 150px;">
                </div>
                <div class="col-sm-9">
                    <h1>VS Code Config Helper</h1>
                    <p>简单、快捷的 VS Code C++ 配置工具</p>
                </div>
            </div>
            <div class="row">
                <button type="button" class="btn btn-primary btn-lg center-block" style="font-size:200%"
                    onclick="download()">
                    <span class="glyphicon glyphicon-download-alt"></span>
                    <span style="margin:15px" id="download-text">立即下载</span>
                </button>
            </div>

            <div class="text-center" style="padding-top: 5px">
                <span id="version-text"></span>
                <a href="javascript:void(0);" class="bind_hover_card" data-toggle="popover" data-placement="bottom" data-trigger="hover"
                    style="vertical-align:bottom;">
                    <span class="glyphicon glyphicon-question-sign"></span>
                    无法下载？
                </a>
            </div>
        </div>
        <div style="text-align: center;">
            <div class="btn-group">
                <button type="button" class="btn btn-lg btn-success" onclick="readme()">使用帮助</button>
                <button type="button" class="btn btn-lg btn-warning" onclick="trouble()">疑难解答</button>
                <button type="button" class="btn btn-lg btn-info" onclick="faq()">常见问题</button>
                <button type="button" class="btn btn-lg btn-default" onclick="src()">查看源码</button>
            </div>
        </div>
        <h3 class="page-header">软件截图</h3>
        <img class="img-thumbnail center-block" src="assets/Snapshot.png">
        <h3 class="page-header">软件许可</h3>
        <p>VS Code Config Helper 是自由软件。你可以基于 <a href="http://www.gnu.org/licenses/gpl-2.0.html">GPLv2</a> 协议进行再分发或修改。
        </p>
        <h3 class="page-header">关于作者</h3>
        <p class="lead">谷雨同学·Guyutongxue</p>
        <ul>
            <li><a href="https://github.com/Guyutongxue">GitHub</a></li>
            <li><a href="https://space.bilibili.com/19275760">Bilibili</a></li>
            <li><a href="https://www.zhihu.com/people/guyutongxue">Zhihu</a></li>
            <li>Email: <a href="mailto:guyutongxue@163.com">guyutongxue@163.com</a></li>
        </ul>
        对不起实在不会做网页。
    </div>
    <script>

        $.getJSON("version.json", function (result) {
            versionInfo = result;
            console.log(versionInfo);
            $("#version-text").text("版本 " + versionInfo.version + " 更新日期 " + versionInfo.date);
        });

        $("[data-toggle='popover']").popover({
            html: true,
            title: "使用蓝奏云下载",
            trigger: "click",
            content: function () {
                return lanzousPopup();
            }
        });

        function lanzousPopup() {
            var data = $("" +
                "<span class='label label-info'>链接</span>" +
                "<button class='btn btn-link' onclick='window.open(lanzousLink);'>" + lanzousLink +
                "</button><br>" +
                "<span class='label label-info'>密码</span>" +
                "<div class='input-group input-group-sm'>" +
                "    <input type='text' class='form-control' id='passcode' value='" + lanzousCode + "' readonly></input>" +
                "    <span class='input-group-btn'>" +
                "        <button class='btn btn-default' id='copybtn' data-clipboard-target='#passcode' type='submit'>复制</button>  " +
                "    </span>" +
                " </div>");

            return data;
        }

        var clipboard = new ClipboardJS('#copybtn');
    </script>
</body>

</html>